# Askl-AI-on | Transkription via Whisper

Dieses Modul ermÃ¶glicht die Echtzeit-Transkription von PatientengesprÃ¤chen direkt in der Praxis. Durch den Einsatz von `faster-whisper` erreichen wir eine extrem hohe Genauigkeit bei gleichzeitig geringer Latenz â€“ vollkommen lokal.

---

## ğŸ“‹ Funktionsweise

Das System besteht aus zwei Komponenten:

1. **Server (`ServerFasterWhisper.py`):** LÃ¤uft auf einem leistungsstarken Rechner (mit NVIDIA GPU) und verarbeitet die Audio-Daten.
2. **Client (`client_par_Normbefunde.py`):** LÃ¤uft auf dem PC im Sprechzimmer. Er nimmt den Ton auf, sendet ihn an den Server und zeigt den Text sowie vorgefertigte **Normalbefunde** an.

---

## ğŸ› ï¸ Voraussetzungen

### Hardware-Empfehlung

* **Server:** PC mit einer NVIDIA-Grafikkarte (mind. 8GB VRAM fÃ¼r das "large"-Modell empfohlen).
* **Client:** Beliebiger Praxis-PC mit Mikrofon (Headset oder Tischmikrofon).

### Software-Basis

Auf beiden Systemen muss **Python (Version 3.10 oder neuer)** installiert sein. Sie finden den Download unter [python.org](https://www.python.org/downloads/).

---

## ğŸ’¾ Installation der AbhÃ¤ngigkeiten

Ã–ffnen Sie jeweils ein Terminal (Eingabeaufforderung/PowerShell) und installieren Sie die benÃ¶tigten Bibliotheken.

### Auf dem Server

```bash
pip install flask numpy faster-whisper waitress

```

### Auf dem Client

```bash
pip install tkinter sounddevice numpy requests pyperclip

```

*(Hinweis: `tkinter` ist unter Windows meist vorinstalliert. Unter Linux nutzen Sie `sudo apt-get install python3-tk`).*

---

## âš™ï¸ Konfiguration

Damit Client und Server miteinander kommunizieren kÃ¶nnen, mÃ¼ssen Sie die IP-Adresse anpassen:

1. **Server-IP ermitteln:** Ã–ffnen Sie am Server die Eingabeaufforderung, geben Sie `ipconfig` ein und notieren Sie die IPv4-Adresse (z. B. `192.168.10.177`).
2. **Client-Script anpassen:**
* Ã–ffnen Sie `client_par_0_0_5_Normbefunde.py` in einem Texteditor.
* Suchen Sie die Zeile:
`SERVER_URL = "http://192.168.10.177:6000/transcribe"`
* Ersetzen Sie die IP durch die Adresse Ihres Servers.
* **Wichtig:** Stellen Sie sicher, dass der Port (im Script `6000`) mit dem Port im Server-Script Ã¼bereinstimmt (im bereitgestellten Server-Script ist `5000` voreingestellt â€“ passen Sie dies an, damit beide identisch sind).



---

## ğŸš€ Nutzung

### 1. Server starten

Starten Sie das Server-Script auf dem Rechner mit der Grafikkarte:

```bash
python ServerFasterWhisper.py

```

Der Server lÃ¤dt beim ersten Start das "large"-Whisper-Modell herunter (ca. 3 GB) und wartet dann auf Anfragen.

### 2. Client starten

Starten Sie das Client-Script am Behandlungsplatz:

```bash
python client_par_0_0_5_Normbefunde.py

```

**Features im Client:**

* **Start with Clipboard:** Ãœbernimmt Patientendaten direkt aus der Zwischenablage Ihres PVS.
* **Normalbefunde:** Klicken Sie auf "Lunge", "Abdomen" etc., um vordefinierte, blande Befundtexte sofort in das Dokument einzufÃ¼gen.
* **Auto-Save:** Nach dem Stoppen wird das Transkript im Ordner `/Transkripte` gespeichert und automatisch in die Zwischenablage kopiert. Dieses Speichern dient dem Schutz von Verlust des Transkriptes, falls man versehentlich etwas anderes kopiert und damit die Zwischenablage Ã¼berschreibt. LÃ¶schen Sie den Inhalt des Ordners Transkripte regelmÃ¤ÃŸig, am besten tÃ¤glich, z.B. durch eine zeitlich getriggerte Automatisierung.

---

## ğŸ›¡ï¸ Datenschutzhinweis

Da der Client die Audiodaten Ã¼ber das lokale Netzwerk (HTTP) an den Server sendet, sollte dieser Workflow **nur in einem gesicherten Praxis-Netzwerk** betrieben werden. Die Daten verlassen zu keinem Zeitpunkt das GebÃ¤ude.